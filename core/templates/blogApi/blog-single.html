{% extends 'base.html' %}
{% load static %}
{% block content %}
<link rel="stylesheet" href="{% static 'css/blogApi/blog-single.css' %}">
<div id="blog-single-config"
	data-default-image="{% static 'img/default.jpg' %}"
	data-default-gallery-image="{% static 'img/default.jpg' %}"
	data-post-list-url="{% url 'blog:api-v1:post-list' %}"
	data-comments-url="{% url 'blog:api-v1:comment-list' %}"
	data-comment-report-url="{% url 'blog:api-v1:comment-report-list' %}"
	data-post-report-url="{% url 'blog:api-v1:post-report-list' %}"
	data-category-url="{% url 'blog:api-v1:category-list' %}"
	data-profile-url="{% url 'profile' %}"
	data-friend-requests-url="{% url 'friends:api-v1:friend-request-list' %}"
	data-friendships-url="{% url 'friends:api-v1:friendship-list' %}"
	data-blog-home-url="{% url 'website:blog-home' %}"
	data-login-url="{% url 'login' %}"
	style="display:none;"></div>

<!-- start banner Area -->
<section class="relative about-banner">
	<div class="overlay overlay-bg"></div>
	<div class="container">
		<div class="row d-flex align-items-center justify-content-center">
			<div class="about-content col-lg-12">
				<h1 class="text-white" id="post-title"></h1>
				<p class="text-white link-nav"><a href="{% url 'website:index' %}">Home </a> <span
						class="lnr lnr-arrow-right"></span><a href="{% url 'website:blog-home' %}">Blog </a> <span
						class="lnr lnr-arrow-right"></span> <span id="post-title-breadcrumb"></span></p>
			</div>
		</div>
	</div>
	<div id="post-meta"
		data-can-comment="{% if request.user.is_authenticated %}true{% else %}false{% endif %}"
		data-can-react="{% if request.user.is_authenticated and request.user.is_verified %}true{% else %}false{% endif %}"
		data-authenticated="{% if request.user.is_authenticated %}true{% else %}false{% endif %}"
		style="display:none;"></div>
</section>
<!-- End banner Area -->

<!-- Start post-content Area -->
<section class="post-content-area single-post-area">
	<div class="container">
		<div class="row">
			<div class="col-lg-8 posts-list">
				<div class="single-post row">
					<div class="col-lg-12">
						<div class="feature-img">
							<img class="img-fluid" id="post-image" src="{% static 'img/default.jpg' %}"
								alt="">
						</div>
					</div>
					<div class="col-lg-3  col-md-3 meta-details">
						<ul class="tags" id="post-categories"></ul>
						<div class="user-details row">
							<p class="user-name col-lg-12 col-md-12 col-6"><a href="#" id="post-author"></a> <span
									class="lnr lnr-user"></span></p>
							<p id="friend-request-wrap" class="friend-request col-lg-12 col-md-12 col-6" style="display:none;">
								<button id="friend-request-button" class="friend-request-btn" type="button">Add friend</button>
								<span id="friend-request-status" class="friend-request-status"></span>
							</p>
							<p class="date col-lg-12 col-md-12 col-6"><span id="post-date"></span> <span
									class="lnr lnr-calendar-full"></span></p>
							<p class="view col-lg-12 col-md-12 col-6"><span id="post-views"></span> <span
									class="lnr lnr-eye"></span></p>
							<p class="comments col-lg-12 col-md-12 col-6"><span id="post-comments-inline">0 comments</span> <span
									class="lnr lnr-bubble"></span></p>
							<p class="reactions col-lg-12 col-md-12 col-6">
								<span class="post-reactions">
									<a href="#" class="post-reaction post-like" data-value="1"><i class="fa fa-thumbs-up"></i>
										<span id="post-like-count">0</span></a>
									<a href="#" class="post-reaction post-dislike" data-value="-1"><i class="fa fa-thumbs-down"></i>
										<span id="post-dislike-count">0</span></a>
								</span>
								<div id="post-reaction-message" class="post-reaction-message" style="display:none;"></div>
							</p>
							<p id="post-report-wrap" class="report col-lg-12 col-md-12 col-6">
								<a href="#" id="post-report-link" class="post-report-link">Report post</a>
								<span class="lnr lnr-flag"></span>
							</p>
							<ul class="social-links col-lg-12 col-md-12 col-6">
								<li><a id="post-author-facebook" href="#"><i class="fa fa-facebook"></i></a></li>
								<li><a id="post-author-twitter" href="#"><i class="fa fa-twitter"></i></a></li>
								<li><a id="post-author-github" href="#"><i class="fa fa-github"></i></a></li>
								<li><a id="post-author-behance" href="#"><i class="fa fa-behance"></i></a></li>
							</ul>
						</div>
					</div>
					<div class="col-lg-9 col-md-9">
						<h3 class="mt-20 mb-20" id="post-title-body"></h3>
						<p class="excert" id="post-content"></p>
					</div>
					<div class="col-lg-12">
						<div class="quotes">
							{% if site_settings and site_settings.blog_quote %}
							{{ site_settings.blog_quote }}
							{% endif %}
						</div>
						<div class="row mt-30 mb-30">
							<div class="col-6" id="post-image-2-wrap">
								<img class="img-fluid post-gallery-img" id="post-image-2"
									src="{% static 'img/default.jpg' %}" alt="">
							</div>
							<div class="col-6" id="post-image-3-wrap">
								<img class="img-fluid post-gallery-img" id="post-image-3"
									src="{% static 'img/default.jpg' %}" alt="">
							</div>
							<div class="col-lg-12 mt-30">
								<p id="post-extra-content"></p>
							</div>
						</div>
					</div>
				</div>
				<div class="navigation-area">
					<div class="row">
						<div
							class="col-lg-6 col-md-6 col-12 nav-left nav-hidden flex-row d-flex justify-content-start align-items-center">
							<div class="thumb">
								<a href="#" id="post-prev-thumb"><img class="img-fluid nav-thumb-img"
										src="{% static 'img/default.jpg' %}" alt=""></a>
							</div>
							<div class="arrow">
								<a href="#" id="post-prev-arrow"><span class="lnr text-white lnr-arrow-left"></span></a>
							</div>
							<div class="detials">
								<a href="#" id="post-prev-link">Previous</a>
							</div>
						</div>
						<div
							class="col-lg-6 col-md-6 col-12 nav-right nav-hidden flex-row d-flex justify-content-end align-items-center">
							<div class="detials">
								<a href="#" id="post-next-link">Next</a>
							</div>
							<div class="arrow">
								<a href="#" id="post-next-arrow"><span
										class="lnr text-white lnr-arrow-right"></span></a>
							</div>
							<div class="thumb">
								<a href="#" id="post-next-thumb"><img class="img-fluid nav-thumb-img"
										src="{% static 'img/default.jpg' %}" alt=""></a>
							</div>
						</div>
					</div>
				</div>
				<div class="comments-area">
					<div class="comments-head">
						<h4 id="comments-title">Comments</h4>
						<div class="comments-count">
							<span id="post-comments">0 comments</span>
							<span class="lnr lnr-bubble"></span>
						</div>
					</div>
					<div class="comment-rules">
						<strong>Comment rules</strong>
						<ul>
							<li>Be respectful and keep it civil.</li>
							<li>No spam, ads, or self-promotion.</li>
							<li>Stay on topic and add value.</li>
						</ul>
					</div>
					<div id="comments-list"></div>
					<div id="comments-empty" style="display:none;">
						<p>No comments yet.</p>
					</div>
					<div id="report-modal" class="report-modal">
						<div class="report-card">
							<h5 id="report-title">Report Comment</h5>
							<textarea id="report-reason" placeholder="Tell us what is wrong..." required></textarea>
							<div id="report-message" class="report-message" style="display:none;"></div>
							<div class="report-actions">
								<button type="button" id="report-cancel" class="primary-btn text-uppercase"
									style="background:#ccc;color:#222;">Cancel</button>
								<button type="button" id="report-submit" class="primary-btn text-uppercase">Send</button>
							</div>
						</div>
					</div>

					{% if request.user.is_authenticated %}
					<div class="comment-form">
						{% if not request.user.is_verified %}
						<div class="comment-verify-note">Verify your email to comment.</div>
						{% endif %}
						<form id="comment-form">
							<input type="hidden" id="comment-parent-id" value="">
							<div class="form-group">
								<textarea id="comment-message" class="form-control mb-10" rows="3"
									placeholder="Write your comment" required></textarea>
							</div>
							<div id="comment-form-message" class="comment-form-message" style="display:none;"></div>
							<button type="submit" class="primary-btn text-uppercase">Post Comment</button>
							<a href="#" id="comment-cancel-reply" style="margin-left:10px; display:none;">Cancel
								Reply</a>
						</form>
					</div>
					{% else %}
					<p>
						<a href="{% url 'login' %}">Login</a> to write a comment.
					</p>
					{% endif %}
				</div>
				<div id="post-edit-modal" class="post-modal">
					<div class="post-modal-card">
						<h5>Edit Post</h5>
						<form id="post-edit-form" enctype="multipart/form-data">
							<input type="text" name="title" placeholder="Title" required>
							<textarea name="content" placeholder="Content" rows="4" required></textarea>
							<textarea name="extra_content" placeholder="Extra content (optional)" rows="3"></textarea>
							{% if request.user.is_staff %}
							<div class="post-modal-row">
								<label><input type="checkbox" name="status"> Published</label>
							</div>
							{% endif %}
							<div class="post-modal-row">
								<label>Categories</label>
								<div id="edit-post-categories" class="post-modal-categories"></div>
							</div>
							<div class="post-modal-row">
								<label>Image</label>
								<input type="file" name="image" accept="image/*">
							</div>
							<div class="post-modal-row">
								<label>Image 2</label>
								<input type="file" name="image_2" accept="image/*">
							</div>
							<div class="post-modal-row">
								<label>Image 3</label>
								<input type="file" name="image_3" accept="image/*">
							</div>
							<div id="edit-post-message" class="post-modal-message" style="display:none;"></div>
							<div class="post-modal-actions">
								<button type="button" id="post-edit-cancel" class="primary-btn text-uppercase"
									style="background:#ccc;color:#222;">Cancel</button>
								<button type="submit" class="primary-btn text-uppercase">Save</button>
							</div>
						</form>
					</div>
				</div>
				<div id="post-delete-modal" class="post-delete-modal">
					<div class="post-delete-card">
						<p>Delete this post?</p>
						<div class="post-modal-actions">
							<button type="button" id="post-delete-cancel" class="primary-btn text-uppercase"
								style="background:#ccc;color:#222;">No</button>
							<button type="button" id="post-delete-confirm"
								class="primary-btn text-uppercase post-delete-btn">Yes</button>
						</div>
					</div>
				</div>
			</div>
			<div class="col-lg-4 sidebar-widgets">
				<div class="widget-wrap">
					<div id="post-actions" class="single-sidebar-widget post-actions" style="display:none;">
						<button type="button" id="post-edit-btn" class="primary-btn text-uppercase">Edit</button>
						<button type="button" id="post-delete-btn"
							class="primary-btn text-uppercase post-delete-btn">Delete</button>
					</div>
					{% include 'blogApi/blog-search.html' %}
					{% include 'blogApi/blog-writer.html' %}
					{% include 'blogApi/blog-ads.html' %}
					{% include 'blogApi/blog-post-categories.html' %}
					{% include 'blogApi/blog-tags.html' %}
				</div>
			</div>
		</div>
	</div>
</section>
<!-- End post-content Area -->

<script src="{% static 'js/blogApi/blog-single.js' %}"></script>

{% endblock %}
